---
layout: post
title:  "STL性能比较"
data: 星期六, 11. 四月 2020 04:03下午 
categories: 数据结构
tags: 专题
---
* 该模块会针对数据结构中的某一块知识做专题整理，也许会有些不足或者错误的地方，未来可能会作修改。

#  数据结构专题6----STL性能比较

* 会记录一些STL的适用场景

## vector
如果你需要高效的随机存取，而不在乎插入和删除的效率

list中的对象是离散存储的，随机访问某个元素需要遍历list。
## list
如果你需要大量的插入和删除，而不关心随机存取（注意，是随机存取，而不是顺序存取）

## deque
如果你需要随机存取，而且关心两端数据的插入和删除，


## vector与list的效率对比
#### 顺序遍历
list略快（用迭代器）

参考链接：https://blog.csdn.net/u014252478/article/details/53046642

#### 插入
list的push_back操作竟然比vector慢，而且慢很多。有可能是由于stl的list是双向链表。

## vector与deque的对比
#### 相同点

在中部安插、删除元素的速度较慢。

迭代器属于random access iterator（随机存取迭代器）。

#### 不同点
1.deque元素的存取和迭代器的动作比vector稍慢。

2.除了头尾两端，在任何地方安插或删除元素，都将导致指向deque元素的所有pointers、references、iterators失效。

3.deque的内存区块不再被使用时，会自动被释放。deque的内存大小是可自动缩减的。（deque自动收缩）

4.deque与vector组织内存的方式不一样。在底层，deque按“页”（page）或“块”（chunk）来分配存储器，每页包含固定数目的元素。而vector只分配一块连续的内存。例如，一个10M字节的vector使用的是一整块10M字节的内存，而deque可以使用一串更小的内存块，比如10块1M的内存。所以不能将deque的地址（如&deque[0]）传递给传统的C API，因为deque内部所使用的内存不一定会连续。


#### deque的底层
 deque 容器存储数据的空间是由一段一段等长的连续空间构成，各段空间之间并不一定是连续的，可以位于在内存的不同区域。
























