---
layout: post
title:  "HTTPS"
data: 星期一, 02. 三月 2020 05:00下午 
categories: 计算机网络
tags: 专题
---
* 该模块会针对计算机网络中的某一块知识做专题整理，也许会有些不足或者错误的地方，未来可能会作修改。

#  计算机网络专题3----HTTPS知识整理

>
HTTPS其实就比HTTP多了一个加密功能，但是也花了我一段时间研究，才有了一点粗浅的了解，这边博客也是想做个记录，以后还会修改。



## 前言
**在看这篇博文之前我要先简单讲几个概念**

#### 非对称加密
有公钥和私钥，有几个特点

1.公钥加密过的信息，通过私钥能还原。

2.私钥加密过的信息，通过公钥能还原。

3.公钥可以公开而私钥只能自己保存

4.复杂度高
#### 对称加密

只有一个密钥，加密解密都靠这个密钥，复杂度低。

> #### 有哪些加密算法
> 散列算法
>
MD5算法、SHA1算法
>
对称加密
>
AES算法、DES算法
>
非对称加密
>
RSA算法
#### http的缺点
因为http协议在传输过程中十分容易被拦截而且没有加密，所以就会产生三个问题

(1)信息泄漏（2）信息被篡改（3）无法确定对方身份

**注意：https协议并没有改掉http容易被拦截的特点，它只是保证了任何人拦截了中间的信息也无法看懂以及通信双方能轻易识别你伪造的假信息**

#### 什么是https协议

HTTPS协议 = HTTP协议 + SSL/TLS协议

SSL(Secure Sockets Layer 安全套接层),及其继任者传输层安全（Transport Layer Security，TLS）

这个协议在传输层

## HTTPS流程图
![](https://github.com/LLLibra/LLLibra.github.io/raw/master/_posts/imgs/20200303-165436.png)

**上面这张流程图是想告诉你，https的安全认证过程是在TCP之后正常传输数据之前。**

#### 服务器获取数字证书

![](https://github.com/LLLibra/LLLibra.github.io/raw/master/_posts/imgs/20200303-165833.png)

#### 客户端与服务端安全认证

![](https://github.com/LLLibra/LLLibra.github.io/raw/master/_posts/imgs/20200303-165804.png)

## 细节分析
大致的过程通过上面的流程图就能知道了，接下来我会分析一些具体细节
#### 前提注意
客户端知道CA的公钥，这个可以作为一个公开信息。

#### 问题1：怎么签字？什么是证书？
首先服务端会传输给CA自己的公钥**(这里不一定单纯是公钥，可能是公钥+域名或者一些其他信息，同样后面也要修改)**用来做证书，服务端公钥经过特定的hash再经过CA的私钥加密就变成了数字签字。

数字证书=数字签字+服务端公钥

#### 问题2：客户端如何能认出我的签字？
客户端已经知道CA的公钥，那么它就可以将数字证书中的数字签字解密得到服务端公钥的hash值，然后将数字证书中服务端公钥原本经过hash处理，然后两者一对比就能得出结果。同时客户端也得到了服务端的公钥。


#### 问题3：客户端确认了服务端的身份，怎么保证后续数据的安全？
客户端在第一次请求的时候会产生一个随机数a1,服务端发证书给客户端的时候也会
发送一个随机数a2,最后确认了证书正确后客户端会产生第三个随机数a3.

最终会根据a1、a2、a3产生一个对称加密的密钥，使用服务端的公钥加密后发给服务端。之后双发发送的数据都采用这个密钥对称加密后发出。（因为非对称加密复杂度高所以要换）

#### 问题4：为什么https能有效？
关键在于这个数字证书的无法伪造性，即使你拦截了服务端发送的数字证书，也无法伪造出自己的证书。


## HTTPS和HTTP的区别
1.HTTP是80端口，HTTPS是443端口。

2.HTTPS有身份认证，HTTP没有。

3.HTTPS发送信息要加密，HTTP没有。

## HTTPS的缺点
1.相同网络环境下，HTTPS协议会使页面的加载时间延长近50%，增加10%到20%的耗电。此外，HTTPS协议还会影响缓存，增加数据开销和功耗。

2.HTTPS协议的安全是有范围的，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。

3.SSL的专业证书需要购买，功能越强大的证书费用越高。

4.HTTPS 连接服务器端资源占用高较高多，相同负载下会增加带宽和服务器投入成本;
















